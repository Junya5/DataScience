# 健康体检数据周报20180402

## 增加第二年的身高、体重、血压作为feature（全部df6数据）
* auc=0.965，nrounds=200
* 比例调整为3/4，auc增加0.001
* 归一化处理，[-1,1]，结果变化不明显，auc=0.965

## 对比health-guidance candidates文章
* [文章链接](https://www.sciencedirect.com/science/article/pii/S1386505617302010)
* [预测阴阳性准确度指标介绍链接](https://en.wikipedia.org/wiki/Confusion_matrix)
* 有个非标准指标：HbA1c
* auc=0.99

* candidate比例27%

## 解决样本非平衡方法
### 尝试直接采样
* 全部直接采样，正样本复制，测试集auc整体提升明显，猜想有过拟合倾向。
* 如全部正样本采样，学习速率0.3在1418收敛，最佳0.94；取3000正样本，学习速率0.3在642多收敛，最佳0.92。

### 尝试smote算法解决非平衡
* 基于随机过采样算法的一种改进方案，由于随机过采样简单复制样本的策略来增加少数类样本，这样容易产生模型过拟合的问题，即使模型学习到的信息过于特别而不够泛化。
* SMOTE的主要思想是利用特征空间中现存少数类样本之间的相似性来建立人工数据，特别是，对于子集Smin，对于每一个样本属于Smin使用K-近邻法，其中K-近邻被定义为考虑Smin中的K个元素本身与xi的欧氏距离在n维特征空间X中表现为最小幅度值的样本。由于不是简单地复制少数类样本，因此可以在一定程度上避免分类器的过度拟合，实践证明此方法可以提高分类器的性能。
 
## 计划
* smote算法调整样本比例
* 寻求合适比例，决定正负样本数
* 数据产出，调参

## 待考虑暂时讨论无果
* feature权重说明，feature对预测下降的影响
* 各自feature有几种到第二年的情况
* 预测阳性的精准指导
* 只用身高体重血压预测

